import{d as X,N as ce,r as u,o as le,y as _,L as j,I as t,z as c,A as e,B as a,E as f,Q as de,k as g,S as ue,J as K,C as d,T as Q,U as W,V as _e,H as q,D as v,P as me,K as G,W as fe,X as pe,Y as ve,_ as be}from"#entry";import{u as ge,c as he,a as ye,e as ke,_ as O,b as H,d as P,f as we,g as ee,V as te}from"./bWt-43M8.js";const $e={key:0,class:"customer-info"},Ie={class:"customer-info__title"},Ce={class:"customer-info__list"},Se={class:"customer-info__list-wrap"},xe={class:"customer-info__list-item"},Ve={class:"customer-info__list-item"},Te={class:"customer-info__list-item"},Be=["href"],Fe={class:"customer-info__list-item"},ze={class:"customer-info__list-item"},Re=["href"],De={class:"customer-info__list-wrap"},Le={class:"customer-info__list-item"},Oe={class:"customer-info__list-item"},Ae={class:"customer-info__list-item"},Me={class:"customer-info__list-item"},Ue={class:"customer-info__list-item"},Ne={class:"customer-info__list-wrap"},Ee={class:"customer-info__list-item"},Pe={class:"customer-info__list-item"},je={class:"customer-info__list-item"},Je=X({__name:"CustomerInfo",setup(w){const{user:o}=ce(ge()),h=u(!1);return le(()=>{h.value=!0}),(n,l)=>t(h)&&t(o)?(c(),_("div",$e,[e("h1",Ie,a(`Особистий кабінет користувача ${t(o)?.name}`),1),e("div",Ce,[e("div",Se,[l[5]||(l[5]=e("h2",{class:"customer-info__list-subtitle"},"Інформація про користувача",-1)),e("p",xe,[l[0]||(l[0]=e("span",{class:"customer-info__list-item-title"},"Ім’я: ",-1)),f(" "+a(t(o).name),1)]),e("p",Ve,[l[1]||(l[1]=e("span",{class:"customer-info__list-item-title"},"Нікнейм: ",-1)),f(" "+a(t(o).username),1)]),e("p",Te,[l[2]||(l[2]=e("span",{class:"customer-info__list-item-title"},"Електронна пошта: ",-1)),e("a",{href:"mailto:"+t(o).email,class:"customer-info__list-item-link"},a(t(o).email),9,Be)]),e("p",Fe,[l[3]||(l[3]=e("span",{class:"customer-info__list-item-title"},"Телефон: ",-1)),f(" "+a(t(o).phone),1)]),e("p",ze,[l[4]||(l[4]=e("span",{class:"customer-info__list-item-title"},"Вебсайт: ",-1)),e("a",{href:"https://"+t(o).website,target:"_blank",class:"customer-info__list-item-link"},a(t(o).website),9,Re)])]),e("div",De,[l[11]||(l[11]=e("h2",{class:"customer-info__list-subtitle"},"Адреса проживання",-1)),e("p",Le,[l[6]||(l[6]=e("span",{class:"customer-info__list-item-title"},"Вулиця: ",-1)),f(" "+a(t(o).address.street),1)]),e("p",Oe,[l[7]||(l[7]=e("span",{class:"customer-info__list-item-title"},"Квартира / офіс: ",-1)),f(" "+a(t(o).address.suite),1)]),e("p",Ae,[l[8]||(l[8]=e("span",{class:"customer-info__list-item-title"},"Місто: ",-1)),f(" "+a(t(o).address.city),1)]),e("p",Me,[l[9]||(l[9]=e("span",{class:"customer-info__list-item-title"},"Поштовий індекс: ",-1)),f(" "+a(t(o).address.zipcode),1)]),e("p",Ue,[l[10]||(l[10]=e("span",{class:"customer-info__list-item-title"},"Координати: ",-1)),f(" "+a(t(o).address.geo.lat)+", "+a(t(o).address.geo.lng),1)])]),e("div",Ne,[l[15]||(l[15]=e("h2",{class:"customer-info__list-subtitle"},"Компанія",-1)),e("p",Ee,[l[12]||(l[12]=e("span",{class:"customer-info__list-item-title"},"Назва: ",-1)),f(" "+a(t(o).company.name),1)]),e("p",Pe,[l[13]||(l[13]=e("span",{class:"customer-info__list-item-title"},"Слоган: ",-1)),f(" "+a(t(o).company.catchPhrase),1)]),e("p",je,[l[14]||(l[14]=e("span",{class:"customer-info__list-item-title"},"Спеціалізація: ",-1)),f(" "+a(t(o).company.bs),1)])])])])):j("",!0)}}),qe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function Ge(w,o){return c(),_("svg",qe,[...o[0]||(o[0]=[e("path",{d:"M89.44 205.595c-29.641 2.695-63.53 26.635-77.625 54.825C5.04 274.286.763 290.5.009 307.629l-.009.258c0 21.35 8.602 45.394 22.593 63.427 4.145 5.389 102.291 104.26 218.159 219.818 225.518 225.103 216.605 216.916 243.55 224.896 25.495 7.462 61.976 1.865 83.947-12.747 5.803-3.835 103.845-100.53 224.274-221.165 209.764-210.076 214.221-214.636 220.751-228.626 6.764-13.352 10.726-29.11 10.726-45.793 0-36.52-18.984-68.606-47.622-86.928l-.414-.248c-14.27-9.681-31.876-15.455-50.827-15.455q-2.438 0-4.843.126l.225-.009a92 92 0 0 0-4.053-.085c-17.532 0-33.968 4.686-48.127 12.873l.464-.248c-5.907 3.316-68.919 64.878-182.404 178.258l-173.387 173.18-173.387-173.077C153.905 210.882 159.294 215.753 132.97 208.498c-8.74-2.427-18.776-3.822-29.137-3.822-5.074 0-10.069.334-14.966.983l.575-.062z"},null,-1)])])}const He={render:Ge},Ke={class:"select-field__selected"},Qe=["onClick"],We={key:1,class:"select-field__options-empty"},se=X({__name:"Select",props:{id:{default:void 0},options:{},selected:{default:void 0},placeholder:{default:void 0},block:{type:Boolean},disabled:{type:Boolean},loading:{type:Boolean},error:{type:Boolean},closeAfterSelect:{type:Boolean,default:!0}},emits:["select","open","close"],setup(w,{expose:o,emit:h}){_e("form-group",{error:!1});const n=w,l=de("form-group",null)??{},m=h,y=u(),C=u(),S=u(),$=u(),p=u(!1),I=g(()=>n.options),B=g(()=>k.value?k.value.label:n.placeholder),F=g(()=>n.selected?.value),k=g(()=>n.selected??n.options?.filter(T=>T.value===F.value)?.[0]),A=g(()=>l?.block?.value??n?.block),M=g(()=>l?.error?.value??n?.error),J=g(()=>[{"is-opened":p.value,"is-block":A.value,"is-loading":n.loading,"is-placeholder":n.placeholder&&!k.value,"is-disabled":n.disabled,"is-error":M.value}]),x=()=>{p.value?z():V()},V=()=>{p.value=!0,m("open")},z=()=>{p.value=!1,m("close")};ue(y,()=>{z()});const U=T=>{m("select",T),n.closeAfterSelect&&z()};return o({selectRef:y}),(T,Y)=>(c(),_("div",{ref_key:"selectRef",ref:y,class:K(["select-field",...t(J)])},[e("button",{ref_key:"triggerRef",ref:C,type:"button",class:"select-field__trigger",onClick:x},[e("span",Ke,a(t(B)),1),d(t(He),{class:"icon"})],512),e("div",{ref_key:"dropdownRef",ref:S,class:"select-field__dropdown"},[e("div",{ref_key:"optionsRef",ref:$,class:"select-field__options"},[t(I)?.length?(c(!0),_(Q,{key:0},W(t(I),(R,N)=>(c(),_("div",{key:N,class:K(["select-field__option",{"is-selected":t(k)?.value&&R.value===t(k).value}]),onClick:Z=>U(R)},a(R.label),11,Qe))),128)):(c(),_("div",We,a("Дані відстутні")))],512)],512)],2))}}),Xe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function Ye(w,o){return c(),_("svg",Xe,[...o[0]||(o[0]=[e("path",{d:"M898.587 165.484c-26.733-26.957-58.545-48.174-93.549-62.392s-72.474-21.145-110.175-20.365c-68.592.399-134.399 27.565-183.733 75.858-52.935-49.838-122.859-76.963-195.102-75.678S174.845 113.79 123.669 165.48C4.582 280.997 19.47 480.128 161.099 629.267l290.909 285.768c15.536 16.298 36.771 25.743 59.117 26.295 21.639.034 42.475-8.291 58.267-23.272l8.506-8.191 25.948-24.564c25.518-24.568 60.393-59.054 105.903-103.877l150.132-149.134c143.755-153.016 161.618-349.131 38.703-466.805zm-99.941 405.167-10.637 10.341-34.023 34.051-103.777 103.015c-42.531 43.106-78.257 77.154-103.772 101.725l-35.302 35.339-290.486-287.927C111.77 452.542 99.012 308.58 183.219 225.822c17.856-18.141 39.07-32.536 62.426-42.356s48.389-14.876 73.675-14.876 50.319 5.056 73.675 14.876 44.57 24.215 62.425 42.356l3.83 3.45a90.8 90.8 0 0 1 13.608 12.93l38.278 40.517 38.278-40.517 11.912-11.637 4.676-3.881c17.881-18.335 39.175-32.893 62.645-42.83 23.474-9.936 48.658-15.053 74.093-15.053s50.624 5.118 74.089 15.053c23.474 9.936 44.769 24.495 62.649 42.83 83.788 81.895 71.028 226.287-40.828 343.962z"},null,-1)])])}const Ze={render:Ye},et={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function tt(w,o){return c(),_("svg",et,[...o[0]||(o[0]=[e("path",{d:"M805.043 103.088c35.004 14.219 66.816 35.441 93.549 62.392 122.92 117.668 105.052 313.79-38.703 466.805l-46.359 46.12L709.758 781.42c-45.509 44.828-80.382 79.309-105.903 103.877l-25.948 24.564-8.506 8.191c-15.798 14.985-36.628 23.31-58.267 23.272-22.351-.552-43.586-9.997-59.117-26.295l-290.91-285.768C19.478 480.123 4.59 280.991 123.677 165.474c51.171-51.694 120.116-81.287 192.359-82.573s142.168 25.84 195.102 75.678c49.34-48.293 115.141-75.464 183.733-75.858a277.5 277.5 0 0 1 110.175 20.365z"},null,-1)])])}const st={render:tt},lt={class:"todos__wrap"},ot={key:0,class:"todos__create-error"},it={class:"todos__filter"},at={class:"todos__table-wrap"},nt={class:"todos__table"},rt={class:"todos__table-body"},ct={class:"todos__table-item-column"},dt={key:0,class:"todos__table-error"},ut=X({__name:"Todos",setup(w){he({validateOnChange:!0,validateOnModelUpdate:!1});const o=[{value:"all",label:"Всі"},{value:"completed",label:"Завершені"},{value:"uncompleted",label:"Не завершені"},{value:"favourites",label:"Улюблені"}],h=()=>{y.value=ne(m.value,C.value?.value,S.value?.value,$.value,p.value),y.value.length!==m.value.length&&(I.value=!0)},n=u(!1),l=u(!1),m=u([]),y=u([]),C=u(),S=u(null),$=u(""),p=u([]),I=u(!1),B=u(null),F=u(null),{errors:k,defineField:A,setErrors:M,validate:J}=ye({validationSchema:ke(()=>we({userId:ee().required("Це поле обов'язкове для заповлення").matches(te.numeric,"Введіть коректне ID користувача"),title:ee().required("Це поле обов'язкове для заповлення").matches(te.lettersOnly,"Введіть коректний заголовок")})),initialValues:{userId:"",title:""}}),[x]=A("userId"),[V]=A("title"),z=g(()=>I.value?y.value:m.value),U=g(()=>{const i=[...new Set(m.value.map(s=>s.userId))];return[{value:0,label:"Всі"},...i.map(s=>({value:s,label:s}))]}),T=async()=>{const{valid:i}=await J();if(i)try{l.value=!0;const s=await $fetch("https://jsonplaceholder.typicode.com/todos",{method:"POST",body:{userId:Number(x.value),id:m.value.length,title:V.value.trim(),completed:!1}});m.value.unshift(s)}catch{B.value="Вибачте, виникла помилка"}finally{l.value=!1}},Y=async()=>{try{n.value=!0,m.value=await $fetch("https://jsonplaceholder.typicode.com/todos",{method:"GET",headers:{"Content-Type":"application/json"}}),m&&(n.value=!1)}catch{n.value=!1,F.value="Вибачте, виникла помилка"}},R=()=>{const i=localStorage.getItem("favourites");i&&(p.value=JSON.parse(i))},N=i=>p.value.includes(i);function Z(i){N(i)?p.value=p.value.filter(s=>s!==i):p.value.push(i),localStorage.setItem("favourites",JSON.stringify(p.value))}const oe=(i,s,r)=>s==="completed"?i.completed:s==="uncompleted"?!i.completed:s==="favourites"?r.includes(i.id):!0,ie=(i,s)=>s?i.userId===s:!0,ae=(i,s)=>i.title.toLowerCase().includes(s.toLowerCase()),ne=(i,s,r,D,E)=>{let b=[...i];return s&&(b=b.filter(L=>oe(L,s,E))),r&&(b=b.filter(L=>ie(L,r))),D&&D.trim()!==""&&(b=b.filter(L=>ae(L,D))),b},re=()=>{I.value=!1,C.value=o[0],S.value=null,$.value="",y.value=m.value};return le(()=>{Y(),R()}),(i,s)=>(c(),_("div",{class:K(["todos",{"is-loading":t(n)}])},[!t(n)&&t(m)?.length?(c(),q(ve,{key:0,name:"fade"},{default:v(()=>[e("div",lt,[s[12]||(s[12]=e("h2",{class:"todos__title"},"Перелік завдань",-1)),e("form",{class:"todos__create",onSubmit:me(T,["prevent"])},[s[8]||(s[8]=e("h3",{class:"todos__create-title"},"Додати завдання",-1)),d(O,{name:"userId",label:"ID користувача",error:t(k).userId,class:"todos__create-item"},{default:v(()=>[d(H,{ref:"userIdRef",id:"userId",placeholder:"ID користувача",modelValue:t(x),"onUpdate:modelValue":s[0]||(s[0]=r=>G(x)?x.value=r:null),inputmode:"numeric",size:"lg",modelModifiers:{trim:!0},onInput:s[1]||(s[1]=r=>t(M)({userId:void 0}))},null,8,["modelValue"])]),_:1},8,["error"]),d(O,{name:"title",label:"Назва завдання",error:t(k).title,class:"todos__create-item"},{default:v(()=>[d(H,{modelValue:t(V),"onUpdate:modelValue":s[2]||(s[2]=r=>G(V)?V.value=r:null),id:"title",inputmode:"text",size:"lg",placeholder:"Назва завдання",onInput:s[3]||(s[3]=r=>t(M)({title:void 0}))},null,8,["modelValue"])]),_:1},8,["error"]),d(P,{type:"submit",loading:t(l),disabled:t(l),size:"sm","aria-label":"Додати завдання",class:"todos__create-button"},{default:v(()=>[...s[7]||(s[7]=[f(a("Додати"),-1)])]),_:1},8,["loading","disabled"]),t(B)?(c(),_("p",ot,a(t(B)),1)):j("",!0)],32),e("div",it,[d(O,{label:"Статус",class:"todos__filter-item"},{default:v(()=>[d(se,{selected:t(C)||o[0],options:o,block:"",onSelect:s[4]||(s[4]=r=>C.value=r)},null,8,["selected"])]),_:1}),d(O,{label:"ID користувача",class:"todos__filter-item"},{default:v(()=>[d(se,{selected:t(S)||t(U)[0],options:t(U),block:"",onSelect:s[5]||(s[5]=r=>S.value=r)},null,8,["selected","options"])]),_:1}),d(O,{label:"Пошук за назвою",name:"searchTitle",class:"todos__filter-item"},{default:v(()=>[d(H,{ref:"searchInputField",modelValue:t($),"onUpdate:modelValue":s[6]||(s[6]=r=>G($)?$.value=r:null),modelModifiers:{trim:!0},id:"searchTitle",placeholder:"Введіть текст",type:"search",block:"",size:"lg"},null,8,["modelValue"])]),_:1}),d(P,{type:"submit",class:"todos__filter-button",size:"sm","aria-label":"Відфільтрувати таблицю",onClick:h},{default:v(()=>[...s[9]||(s[9]=[f(a("Пошук"),-1)])]),_:1}),fe(d(P,{class:"todos__filter-button--reset","aria-label":"Скинути фільтр",variant:"link-dashed",outline:"",onClick:re},{default:v(()=>[...s[10]||(s[10]=[f(a("Скинути фільтр"),-1)])]),_:1},512),[[pe,t(I)]])]),e("div",at,[e("table",nt,[s[11]||(s[11]=e("thead",{class:"todos__table-header"},[e("tr",{class:"todos__table-item"},[e("th",{class:"todos__table-item-column"},"ID користувача"),e("th",{class:"todos__table-item-column"},"ID"),e("th",{class:"todos__table-item-column"},"Назва"),e("th",{class:"todos__table-item-column"},"Завершено"),e("th",{class:"todos__table-item-column"},"Обрані")])],-1)),e("tbody",rt,[(c(!0),_(Q,null,W(t(z),(r,D)=>(c(),_("tr",{key:`item-${D}`,class:"todos__table-item"},[(c(!0),_(Q,null,W(r,(E,b)=>(c(),_("td",{key:`column-${b}`,class:"todos__table-item-column"},a(E),1))),128)),e("td",ct,[d(P,{iconOnly:"",variant:"secondary","aria-label":"Додати в обране",onClick:E=>Z(r.id)},{default:v(()=>[N(r.id)?(c(),q(t(st),{key:1,class:"todos__table-item-column-icon"})):(c(),q(t(Ze),{key:0,class:"todos__table-item-column-icon"}))]),_:2},1032,["onClick"])])]))),128))])]),t(F)?(c(),_("p",dt,a(t(F)),1)):j("",!0)])])]),_:1})):j("",!0)],2))}}),_t={},mt={class:"customer"};function ft(w,o){const h=Je,n=ut;return c(),_("div",mt,[d(h,{class:"customer__info-block"}),d(n)])}const bt=be(_t,[["render",ft]]);export{bt as default};
